# üöÄ –ò–¥–µ–∏ –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ CPU –¥–ª—è MaryRose Assistant

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã](#–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ-–ø—Ä–æ–±–ª–µ–º—ã)
- [–°—Ä–µ–¥–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã](#—Å—Ä–µ–¥–Ω–∏–µ-–ø—Ä–æ–±–ª–µ–º—ã)
- [–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏–¥–µ–∏](#–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-–∏–¥–µ–∏)
- [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ-—Ä–µ—à–µ–Ω–∏—è)
- [–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ](#–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥-–∏-–ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ)

---

## üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ - –∏–∑–±—ã—Ç–æ—á–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏

**–§–∞–π–ª**: `meet_listener.py:102-142`

**–ü—Ä–æ–±–ª–µ–º–∞**:

```python
for _ in range(15):  # 15 –∏—Ç–µ—Ä–∞—Ü–∏–π –≤–º–µ—Å—Ç–æ –æ–¥–Ω–æ–π
    if not self.is_running.is_set():
        return
    time.sleep(1)
```

- 15 –≤—ã–∑–æ–≤–æ–≤ `is_running.is_set()` –∫–∞–∂–¥—ã–µ 15 —Å–µ–∫—É–Ω–¥
- –ù–µ–Ω—É–∂–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤ —Ü–∏–∫–ª–µ

**–†–µ—à–µ–Ω–∏—è**:

- ‚úÖ –ó–∞–º–µ–Ω–∏—Ç—å –Ω–∞ `time.sleep(15)`
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `self.is_running.wait(timeout=15)` - –ø—Ä–µ—Ä—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–µ
- ‚úÖ –£–≤–µ–ª–∏—á–∏—Ç—å –∏–Ω—Ç–µ—Ä–≤–∞–ª –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ 30-60 —Å–µ–∫—É–Ω–¥

**–≠—Ñ—Ñ–µ–∫—Ç**: –°–Ω–∏–∂–µ–Ω–∏–µ CPU –Ω–∞ ~2-5%

---

### 2. VAD –æ–±—Ä–∞–±–æ—Ç–∫–∞ - –≥–ª–∞–≤–Ω—ã–π –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å CPU

**–§–∞–π–ª**: `audio_handler.py:157-270`

**–ü—Ä–æ–±–ª–µ–º–∞**:

```python
VAD_CHUNK_SIZE = 512  # 32–º—Å –∞—É–¥–∏–æ –ø—Ä–∏ 16kHz
while vad_buffer is not None and vad_buffer.shape[0] >= VAD_CHUNK_SIZE:
    chunk_to_process = vad_buffer[:VAD_CHUNK_SIZE]
    speech_prob = self.vad(chunk_to_process, sr).item()
```

- ~31 –≤—ã–∑–æ–≤ VAD –º–æ–¥–µ–ª–∏ –≤ —Å–µ–∫—É–Ω–¥—É
- –ü–æ—Å—Ç–æ—è–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ slice/concat —Å torch tensors
- VAD –º–æ–¥–µ–ª—å —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ CPU (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)

**–†–µ—à–µ–Ω–∏—è**:

- ‚úÖ **–†–ê–î–ò–ö–ê–õ–¨–ù–û**: –£–≤–µ–ª–∏—á–∏—Ç—å `VAD_CHUNK_SIZE` –¥–æ 2048-4096 (—É–º–µ–Ω—å—à–∏—Ç –≤—ã–∑–æ–≤—ã –≤ 4-8 —Ä–∞–∑)
- ‚úÖ –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ VAD –Ω–∞ GPU: `self.vad.to('cuda')` –≤ `__init__`
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–∞—Ç—á–∏–Ω–≥: –Ω–∞–∫–∞–ø–ª–∏–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —á–∞–Ω–∫–æ–≤ –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- ‚úÖ –ó–∞–º–µ–Ω–∏—Ç—å Silero VAD –Ω–∞ WebRTC VAD (C –±–∏–±–ª–∏–æ—Ç–µ–∫–∞, –≤ 10+ —Ä–∞–∑ –±—ã—Å—Ç—Ä–µ–µ)
- ‚úÖ –î–µ—Ü–∏–º–∞—Ü–∏—è: –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –∫–∞–∂–¥—ã–π 2-–π –∏–ª–∏ 3-–π —á–∞–Ω–∫ –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏
- ‚úÖ –û—Ç–∫–ª—é—á–∏—Ç—å —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏–µ `recent_probs` (3 –æ–ø–µ—Ä–∞—Ü–∏–∏ –Ω–∞ —á–∞–Ω–∫)

**–≠—Ñ—Ñ–µ–∫—Ç**: –°–Ω–∏–∂–µ–Ω–∏–µ CPU –Ω–∞ 30-60%

---

### 3. –ß–∞—Å—Ç–æ—Ç–∞ –∑–∞—Ö–≤–∞—Ç–∞ –∞—É–¥–∏–æ

**–§–∞–π–ª**: `meet_listener.py:410-481`, `config.py:52`

**–ü—Ä–æ–±–ª–µ–º–∞**:

```python
MEET_FRAME_DURATION_MS = 30  # –û—á–µ–Ω—å –º–∞–ª–µ–Ω—å–∫–∏–µ —á–∞–Ω–∫–∏
chunk_size_bytes = self.frame_size * 2
audio_chunk_bytes = process.stdout.read(chunk_size_bytes)
```

- –ß—Ç–µ–Ω–∏–µ –∏–∑ pipe –∫–∞–∂–¥—ã–µ 30–º—Å
- –ü–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤ –æ—á–µ—Ä–µ–¥—å –∫–∞–∂–¥—ã–µ 30–º—Å
- –ú–Ω–æ–∂–µ—Å—Ç–≤–æ –º–µ–ª–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π I/O

**–†–µ—à–µ–Ω–∏—è**:

- ‚úÖ –£–≤–µ–ª–∏—á–∏—Ç—å `MEET_FRAME_DURATION_MS` –¥–æ 60-100–º—Å
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±—É—Ñ–µ—Ä–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —á—Ç–µ–Ω–∏–µ (–Ω–∞–∫–∞–ø–ª–∏–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ñ—Ä–µ–π–º–æ–≤)
- ‚úÖ –û–±—ä–µ–¥–∏–Ω–∏—Ç—å –∑–∞—Ö–≤–∞—Ç –∏ VAD –≤ –æ–¥–∏–Ω –ø–æ—Ç–æ–∫ (—É–±—Ä–∞—Ç—å –æ—á–µ—Ä–µ–¥—å –º–µ–∂–¥—É –Ω–∏–º–∏)

**–≠—Ñ—Ñ–µ–∫—Ç**: –°–Ω–∏–∂–µ–Ω–∏–µ CPU –Ω–∞ 10-20%

---

### 4. Numpy/Torch –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –Ω–∞ –∫–∞–∂–¥–æ–º —á–∞–Ω–∫–µ

**–§–∞–π–ª**: `audio_handler.py:189-195`

**–ü—Ä–æ–±–ª–µ–º–∞**:

```python
# –ü—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç ~33 —Ä–∞–∑–∞ –≤ —Å–µ–∫—É–Ω–¥—É
audio_np = np.frombuffer(audio_frame_bytes, dtype=np.int16).astype(np.float32) / 32768.0
new_audio_tensor = torch.from_numpy(audio_np)
vad_buffer = torch.cat([vad_buffer, new_audio_tensor])
```

- –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö: bytes ‚Üí numpy ‚Üí float32 ‚Üí torch tensor
- `torch.cat()` —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π —Ç–µ–Ω–∑–æ—Ä –∫–∞–∂–¥—ã–π —Ä–∞–∑

**–†–µ—à–µ–Ω–∏—è**:

- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `torch.frombuffer()` –Ω–∞–ø—Ä—è–º—É—é
- ‚úÖ –ü—Ä–µ–¥–∞–ª–ª–æ—Ü–∏—Ä–æ–≤–∞—Ç—å –±–æ–ª—å—à–æ–π –±—É—Ñ–µ—Ä –∏ –ø–∏—Å–∞—Ç—å –≤ –Ω–µ–≥–æ –±–µ–∑ `cat()`
- ‚úÖ –ù–∞–∫–∞–ø–ª–∏–≤–∞—Ç—å numpy –º–∞—Å—Å–∏–≤—ã, –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ torch —Ä–µ–∂–µ
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `torch.concatenate` –≤–º–µ—Å—Ç–æ `cat` (–º–æ–∂–µ—Ç –±—ã—Ç—å –±—ã—Å—Ç—Ä–µ–µ)

**–≠—Ñ—Ñ–µ–∫—Ç**: –°–Ω–∏–∂–µ–Ω–∏–µ CPU –Ω–∞ 5-15%

---

### 5. Selenium polling –±–µ–∑ –∑–∞–¥–µ—Ä–∂–µ–∫

**–§–∞–π–ª**: `meet_listener.py:370-398`

**–ü—Ä–æ–±–ª–µ–º–∞**:

```python
while elapsed_time < max_wait_time:
    for i, xpath in enumerate(success_indicators):  # 5 —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤
        try:
            if self.driver.find_element(By.XPATH, xpath).is_displayed():
```

- –ü–æ–∏—Å–∫ –ø–æ 5 XPath —Å–µ–ª–µ–∫—Ç–æ—Ä–∞–º –≤ tight loop
- –ù–µ—Ç –∑–∞–¥–µ—Ä–∂–∫–∏ –º–µ–∂–¥—É –∏—Ç–µ—Ä–∞—Ü–∏—è–º–∏
- Chrome WebDriver –¥–µ–ª–∞–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤

**–†–µ—à–µ–Ω–∏—è**:

- ‚úÖ –î–æ–±–∞–≤–∏—Ç—å `time.sleep(0.5)` –º–µ–∂–¥—É –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `WebDriverWait` –≤–º–µ—Å—Ç–æ —Ä—É—á–Ω–æ–≥–æ —Ü–∏–∫–ª–∞
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—è—Ç—å —Ç–æ–ª—å–∫–æ –ø–µ—Ä–≤—ã–π —Å–µ–ª–µ–∫—Ç–æ—Ä (–æ—Å—Ç–∞–ª—å–Ω—ã–µ - fallback)
- ‚úÖ –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –≤—Ö–æ–¥–∞ –≤–æ–æ–±—â–µ –Ω–µ –ø—Ä–æ–≤–µ—Ä—è—Ç—å

**–≠—Ñ—Ñ–µ–∫—Ç**: –°–Ω–∏–∂–µ–Ω–∏–µ CPU –Ω–∞ 5-10%

---

### 6. ThreadPoolExecutor —Å –æ–¥–Ω–∏–º –≤–æ—Ä–∫–µ—Ä–æ–º

**–§–∞–π–ª**: `inference_service.py:20`

**–ü—Ä–æ–±–ª–µ–º–∞**:

```python
executor = ThreadPoolExecutor(max_workers=1)
```

- –ü—Ä–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –±–æ—Ç–∞—Ö –æ–Ω–∏ –±–ª–æ–∫–∏—Ä—É—é—Ç –¥—Ä—É–≥ –¥—Ä—É–≥–∞
- –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤
- GPU –ø—Ä–æ—Å—Ç–∞–∏–≤–∞–µ—Ç –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏

**–†–µ—à–µ–Ω–∏—è**:

- ‚úÖ –£–≤–µ–ª–∏—á–∏—Ç—å `max_workers=2-4` (–µ—Å–ª–∏ GPU –º–æ–∂–µ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ)
- ‚úÖ **–†–ê–î–ò–ö–ê–õ–¨–ù–û**: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –±–∞—Ç—á–∏–Ω–≥:
  - –ù–∞–∫–∞–ø–ª–∏–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –æ—Ç —Ä–∞–∑–Ω—ã—Ö –±–æ—Ç–æ–≤ 50-100–º—Å
  - –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –±–∞—Ç—á–µ–º –æ–¥–Ω–∏–º –≤—ã–∑–æ–≤–æ–º Whisper
  - –û—Ç–¥–∞–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º WebSocket
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É—é –æ—á–µ—Ä–µ–¥—å –∑–∞–ø—Ä–æ—Å–æ–≤

**–≠—Ñ—Ñ–µ–∫—Ç**: –°–Ω–∏–∂–µ–Ω–∏–µ –æ–±—â–µ–π –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ 20-40% –ø—Ä–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –±–æ—Ç–∞—Ö

---

## üü° –°—Ä–µ–¥–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

### 7. Chrome —Å GUI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º

**–§–∞–π–ª**: `meet_listener.py:195`

**–ü—Ä–æ–±–ª–µ–º–∞**:

```python
self.driver = uc.Chrome(
    options=opt,
    headless=False,  # –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ –≤—Å–µ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ Meet
```

- –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ –≤–∏–¥–µ–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
- –ê–Ω–∏–º–∞—Ü–∏–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ Google Meet
- –û—Ç—Ä–∏—Å–æ–≤–∫–∞ —á–∞—Ç–∞, —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –∏ —Ç.–¥.

**–†–µ—à–µ–Ω–∏—è**:

- ‚úÖ –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å `headless=True` (–º–æ–∂–µ—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –∞—É–¥–∏–æ)
- ‚úÖ –î–æ–±–∞–≤–∏—Ç—å CSS injection –¥–ª—è —Å–∫—Ä—ã—Ç–∏—è –≤–∏–¥–µ–æ: `display: none` –¥–ª—è video —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- ‚úÖ –£–º–µ–Ω—å—à–∏—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ: `--window-size=800,600` –≤–º–µ—Å—Ç–æ 1280x720
- ‚úÖ –û—Ç–∫–ª—é—á–∏—Ç—å GPU –≤ Chrome: `--disable-gpu`
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `--disable-animations`

**–≠—Ñ—Ñ–µ–∫—Ç**: –°–Ω–∏–∂–µ–Ω–∏–µ CPU –Ω–∞ 10-20%

---

### 8. –°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π WebSocket –∫–ª–∏–µ–Ω—Ç

**–§–∞–π–ª**: `audio_handler.py:54,69`

**–ü—Ä–æ–±–ª–µ–º–∞**:

```python
from websockets.sync.client import connect
self.ws_connection.send(audio_bytes)
text = self.ws_connection.recv()  # –ë–ª–æ–∫–∏—Ä—É—é—â–∏–π –≤—ã–∑–æ–≤
```

- –°–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ —Å–æ–∑–¥–∞–µ—Ç overhead
- –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø–æ—Ç–æ–∫–∞ –Ω–∞ –≤—Ä–µ–º—è –∏–Ω—Ñ–µ—Ä–µ–Ω—Å–∞

**–†–µ—à–µ–Ω–∏—è**:

- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π WebSocket –∫–ª–∏–µ–Ω—Ç
- ‚úÖ –û—Ç–ø—Ä–∞–≤–ª—è—Ç—å –∞—É–¥–∏–æ –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –ø–æ—Ç–æ–∫–µ, –ø–æ–ª—É—á–∞—Ç—å –≤ –¥—Ä—É–≥–æ–º
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å HTTP/2 streaming –≤–º–µ—Å—Ç–æ WebSocket
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–∞–π–ø–ª–∞–π–Ω–∏–Ω–≥: –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Å–ª–µ–¥—É—é—â–∏–π —á–∞–Ω–∫ –Ω–µ –¥–æ–∂–∏–¥–∞—è—Å—å –æ—Ç–≤–µ—Ç–∞

**–≠—Ñ—Ñ–µ–∫—Ç**: –°–Ω–∏–∂–µ–Ω–∏–µ CPU –Ω–∞ 3-8%

---

### 9. –ò–∑–±—ã—Ç–æ—á–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

**–§–∞–π–ª**: –í—Å–µ —Ñ–∞–π–ª—ã

**–ü—Ä–æ–±–ª–µ–º–∞**:

```python
logger.info(f"[{self.meeting_id}] Transcribe latency: {latency:.3f}s. Text: {str(text)[:50]}...")
```

- –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä–æ–∫ –Ω–∞ –∫–∞–∂–¥–æ–º —á–∞–Ω–∫–µ
- –ó–∞–ø–∏—Å—å –≤ —Ñ–∞–π–ª/stdout

**–†–µ—à–µ–Ω–∏—è**:

- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `logger.debug()` –¥–ª—è —á–∞—Å—Ç—ã—Ö —Å–æ–±—ã—Ç–∏–π
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –∫–∞–∂–¥—ã–π N-–π —á–∞–Ω–∫
- ‚úÖ –û—Ç–∫–ª—é—á–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –ø—Ä–æ–¥–∞–∫—à–Ω —Ä–µ–∂–∏–º–µ (`logging.WARNING`)
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

**–≠—Ñ—Ñ–µ–∫—Ç**: –°–Ω–∏–∂–µ–Ω–∏–µ CPU –Ω–∞ 2-5%

---

### 10. –°–æ–∑–¥–∞–Ω–∏–µ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –∫–æ–ø–∏–∏ chromedriver

**–§–∞–π–ª**: `meet_listener.py:145-163`

**–ü—Ä–æ–±–ª–µ–º–∞**:

```python
shutil.copy(system_driver_path, driver_copy_path)
driver_copy_path.chmod(0o755)
```

- –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ 50-100MB —Ñ–∞–π–ª–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –±–æ—Ç–∞
- –ù–µ–Ω—É–∂–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è I/O

**–†–µ—à–µ–Ω–∏—è**:

- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º–Ω—ã–π –¥—Ä–∞–π–≤–µ—Ä –Ω–∞–ø—Ä—è–º—É—é
- ‚úÖ –°–æ–∑–¥–∞–≤–∞—Ç—å symlink –≤–º–µ—Å—Ç–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–∏–Ω –¥—Ä–∞–π–≤–µ—Ä –¥–ª—è –≤—Å–µ—Ö –±–æ—Ç–æ–≤ (–∏–∑–æ–ª—è—Ü–∏—è –Ω–µ –Ω—É–∂–Ω–∞)

**–≠—Ñ—Ñ–µ–∫—Ç**: –£—Å–∫–æ—Ä–µ–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞ –Ω–∞ 1-2 —Å–µ–∫—É–Ω–¥—ã

---

## üí° –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏–¥–µ–∏

### 11. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è Whisper –∏–Ω—Ñ–µ—Ä–µ–Ω—Å–∞

**–§–∞–π–ª**: `inference_service.py:64-92`

**–ü—Ä–æ–±–ª–µ–º—ã**:

```python
segments, info = asr_model.transcribe(
    audio_float32,
    beam_size=1,  # –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π beam
    best_of=1,
    language="ru",
    vad_filter=False,
    condition_on_previous_text=False
)
```

**–†–µ—à–µ–Ω–∏—è**:

- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `faster-whisper` —Å `int8` –∫–≤–∞–Ω—Ç–∏–∑–∞—Ü–∏–µ–π (—É–∂–µ `float16`, –º–æ–∂–Ω–æ `int8`)
- ‚úÖ –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å `distil-whisper` –º–æ–¥–µ–ª–∏ (–≤ 2-3 —Ä–∞–∑–∞ –±—ã—Å—Ç—Ä–µ–µ)
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `word_timestamps=False` –µ—Å–ª–∏ –Ω–µ –Ω—É–∂–Ω—ã
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `initial_prompt` –¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ (—É–ª—É—á—à–∞–µ—Ç —Ç–æ—á–Ω–æ—Å—Ç—å, –º–æ–∂–µ—Ç —É—Å–∫–æ—Ä–∏—Ç—å)
- ‚úÖ –ö—ç—à–∏—Ä–æ–≤–∞—Ç—å —á–∞—Å—Ç—ã–µ —Ñ—Ä–∞–∑—ã
- ‚úÖ –î–ª—è –∫–æ—Ä–æ—Ç–∫–∏—Ö —á–∞–Ω–∫–æ–≤ (<3 —Å–µ–∫) –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É–ø—Ä–æ—â–µ–Ω–Ω—É—é –º–æ–¥–µ–ª—å

**–≠—Ñ—Ñ–µ–∫—Ç**: –°–Ω–∏–∂–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –∏–Ω—Ñ–µ—Ä–µ–Ω—Å–∞ –Ω–∞ 20-50%

---

### 12. –ë–∞—Ç—á–∏–Ω–≥ WebSocket –∑–∞–ø—Ä–æ—Å–æ–≤

**–§–∞–π–ª**: `inference_service.py:134-176`

**–ü—Ä–æ–±–ª–µ–º–∞**:

- –ö–∞–∂–¥—ã–π –±–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —á–∞–Ω–∫–∏ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ
- GPU –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø–æ –æ–¥–Ω–æ–º—É —á–∞–Ω–∫—É
- –ù–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ GPU

**–†–µ—à–µ–Ω–∏—è**:

- ‚úÖ **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –±–∞—Ç—á–∏–Ω–≥**:
  ```
  - –ù–∞–∫–∞–ø–ª–∏–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –≤ –æ—á–µ—Ä–µ–¥–∏ 50-100–º—Å
  - –ü–∞–¥–¥–∏–Ω–≥ –¥–æ –æ–¥–∏–Ω–∞–∫–æ–≤–æ–π –¥–ª–∏–Ω—ã
  - –û–¥–∏–Ω –≤—ã–∑–æ–≤ model.transcribe() –Ω–∞ –±–∞—Ç—á
  - –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ WebSocket
  ```
- ‚úÖ –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è: –∫–æ—Ä–æ—Ç–∫–∏–µ —á–∞–Ω–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –ø–µ—Ä–≤—ã–º–∏
- ‚úÖ –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π —Ä–∞–∑–º–µ—Ä –±–∞—Ç—á–∞ –ø–æ –Ω–∞–≥—Ä—É–∑–∫–µ

**–≠—Ñ—Ñ–µ–∫—Ç**: –ü—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å +200-300% –ø—Ä–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –±–æ—Ç–∞—Ö

---

### 13. –õ–µ–Ω–∏–≤–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Chrome

**–§–∞–π–ª**: `meet_listener.py:145-228`

**–ü—Ä–æ–±–ª–µ–º–∞**:

- Chrome –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Å—Ä–∞–∑—É –¥–ª—è –≤—Å–µ—Ö –±–æ—Ç–æ–≤
- –ü–æ—Ç—Ä–µ–±–ª—è–µ—Ç CPU –¥–∞–∂–µ –∫–æ–≥–¥–∞ –Ω–µ –Ω—É–∂–µ–Ω

**–†–µ—à–µ–Ω–∏—è**:

- ‚úÖ –ó–∞–ø—É—Å–∫–∞—Ç—å Chrome —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—É–ª –≥–æ—Ç–æ–≤—ã—Ö –±—Ä–∞—É–∑–µ—Ä–æ–≤ (pre-warmed)
- ‚úÖ –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–Ω—Å—Ç–∞–Ω—Å—ã Chrome –º–µ–∂–¥—É —Å–µ—Å—Å–∏—è–º–∏
- ‚úÖ Graceful shutdown —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏—è

**–≠—Ñ—Ñ–µ–∫—Ç**: –°–Ω–∏–∂–µ–Ω–∏–µ –±–∞–∑–æ–≤–æ–≥–æ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è CPU –Ω–∞ 10-15%

---

### 14. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è PulseAudio

**–§–∞–π–ª**: `meet_listener.py:284-313`, `audio_manager.py`

**–ü—Ä–æ–±–ª–µ–º–∞**:

- –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –±–æ—Ç–∞
- –ú–Ω–æ–∂–µ—Å—Ç–≤–æ sink/source –≤ —Å–∏—Å—Ç–µ–º–µ

**–†–µ—à–µ–Ω–∏—è**:

- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–∏–Ω sink –¥–ª—è –≤—Å–µ—Ö –±–æ—Ç–æ–≤ —Å –º–µ—Ç–∫–∞–º–∏
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –±—É—Ñ–µ—Ä—ã PulseAudio: `default-fragments=4 default-fragment-size-msec=25`
- ‚úÖ –û—Ç–∫–ª—é—á–∏—Ç—å —Ä–µ—Å–µ–º–ø–ª–∏–Ω–≥: `resample-method=copy`
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `module-loopback` –≤–º–µ—Å—Ç–æ `module-remap-source`
- ‚úÖ –í–æ–æ–±—â–µ –æ–±–æ–π—Ç–∏ PulseAudio: –∑–∞—Ö–≤–∞—Ç—ã–≤–∞—Ç—å —á–µ—Ä–µ–∑ ALSA –Ω–∞–ø—Ä—è–º—É—é

**–≠—Ñ—Ñ–µ–∫—Ç**: –°–Ω–∏–∂–µ–Ω–∏–µ CPU –Ω–∞ 5-10%

---

### 15. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –±–æ—Ç–∞

**–§–∞–π–ª**: `meet_listener.py:587-628`

**–ü—Ä–æ–±–ª–µ–º–∞**:

```python
self._leave_meeting()  # –î–æ–ª–≥–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è —Å –ø–æ–∏—Å–∫–æ–º –∫–Ω–æ–ø–∫–∏
shutil.rmtree(self.chrome_profile_path)  # –£–¥–∞–ª–µ–Ω–∏–µ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ —Ñ–∞–π–ª–æ–≤
```

**–†–µ—à–µ–Ω–∏—è**:

- ‚úÖ –ü—Ä–æ–ø—É—Å–∫–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –≤—ã—Ö–æ–¥ –∏–∑ –≤—Å—Ç—Ä–µ—á–∏ - –ø—Ä–æ—Å—Ç–æ –∑–∞–∫—Ä—ã–≤–∞—Ç—å Chrome
- ‚úÖ –£–¥–∞–ª—è—Ç—å –ø—Ä–æ—Ñ–∏–ª—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –≤ —Ñ–æ–Ω–µ
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å tmpfs –¥–ª—è –ø—Ä–æ—Ñ–∏–ª–µ–π Chrome (–±—ã—Å—Ç—Ä–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ)
- ‚úÖ –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª–∏

**–≠—Ñ—Ñ–µ–∫—Ç**: –£—Å–∫–æ—Ä–µ–Ω–∏–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤ 3-5 —Ä–∞–∑

---

### 16. –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –º–µ–º–æ–∏–∑–∞—Ü–∏—è

**–§–∞–π–ª**: –í—Å–µ —Ñ–∞–π–ª—ã

**–†–µ—à–µ–Ω–∏—è**:

- ‚úÖ –ö—ç—à–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã VAD –¥–ª—è –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö –∞—É–¥–∏–æ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ (—Ç–∏—à–∏–Ω–∞)
- ‚úÖ –ú–µ–º–æ–∏–∑–∏—Ä–æ–≤–∞—Ç—å —á–∞—Å—Ç—ã–µ XPath –∑–∞–ø—Ä–æ—Å—ã –≤ Selenium
- ‚úÖ –ö—ç—à–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã LLM –¥–ª—è —Ç–∏–ø–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- ‚úÖ –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∂–∞—Ç—å –º–æ–¥–µ–ª–∏ –≤ RAM –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å shared memory –º–µ–∂–¥—É –±–æ—Ç–∞–º–∏ –¥–ª—è –º–æ–¥–µ–ª–µ–π

**–≠—Ñ—Ñ–µ–∫—Ç**: –°–Ω–∏–∂–µ–Ω–∏–µ CPU –Ω–∞ 5-15%

---

### 17. –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π

**–§–∞–π–ª**: `audio_handler.py`, `meet_listener.py`

**–†–µ—à–µ–Ω–∏—è**:

- ‚úÖ –û—Ç–∫–ª—é—á–∏—Ç—å —Å–∫—Ä–∏–Ω—à–æ—Ç—ã –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
- ‚úÖ –£–±—Ä–∞—Ç—å `_log_pulse_audio_state()` (subprocess –Ω–∞ –∫–∞–∂–¥—ã–π –≤—ã–∑–æ–≤)
- ‚úÖ –£–ø—Ä–æ—Å—Ç–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤ (regex ‚Üí –ø—Ä–æ—Å—Ç—ã–µ `startswith`)
- ‚úÖ –û—Ç–∫–ª—é—á–∏—Ç—å CDP –∫–æ–º–∞–Ω–¥—ã –µ—Å–ª–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è
- ‚úÖ –£–±—Ä–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –±–∞–Ω–Ω–µ—Ä–æ–≤ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π

**–≠—Ñ—Ñ–µ–∫—Ç**: –°–Ω–∏–∂–µ–Ω–∏–µ CPU –Ω–∞ 3-7%

---

### 18. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫

**–§–∞–π–ª**: –í—Å–µ —Ñ–∞–π–ª—ã

**–†–µ—à–µ–Ω–∏—è**:

- ‚úÖ –ó–∞–º–µ–Ω–∏—Ç—å `undetected_chromedriver` –Ω–∞ `playwright` (–ª–µ–≥—á–µ –∏ –±—ã—Å—Ç—Ä–µ–µ)
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `orjson` –≤–º–µ—Å—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ `json`
- ‚úÖ –ó–∞–º–µ–Ω–∏—Ç—å `numpy` –æ–ø–µ—Ä–∞—Ü–∏–∏ –Ω–∞ `torch` native (–µ—Å–ª–∏ —É–∂–µ –≤ torch)
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `uvloop` –¥–ª—è FastAPI
- ‚úÖ –ö–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞—Ç—å Python –º–æ–¥—É–ª–∏ —Å `mypyc` –∏–ª–∏ `Cython`

**–≠—Ñ—Ñ–µ–∫—Ç**: –°–Ω–∏–∂–µ–Ω–∏–µ CPU –Ω–∞ 5-10%

---

### 19. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è Docker –æ–±—Ä–∞–∑–∞

**–§–∞–π–ª**: `Dockerfile`

**–†–µ—à–µ–Ω–∏—è**:

- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `nvidia/cuda:12.3.2-runtime-ubuntu22.04` –≤–º–µ—Å—Ç–æ `devel` (–º–µ–Ω—å—à–µ –ø–∞–∫–µ—Ç–æ–≤)
- ‚úÖ –ú—É–ª—å—Ç–∏—Å—Ç–µ–π–¥–∂ —Å–±–æ—Ä–∫–∞ –¥–ª—è —É–º–µ–Ω—å—à–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞ –æ–±—Ä–∞–∑–∞
- ‚úÖ –£–¥–∞–ª–∏—Ç—å –Ω–µ–Ω—É–∂–Ω—ã–µ dev-–ø–∞–∫–µ—Ç—ã –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Alpine Linux (–ª–µ–≥—á–µ, –Ω–æ –º–æ–≥—É—Ç –±—ã—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å CUDA)
- ‚úÖ –ü—Ä–µ–¥–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ `.pyc` —Ñ–∞–π–ª—ã

**–≠—Ñ—Ñ–µ–∫—Ç**: –£—Å–∫–æ—Ä–µ–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –Ω–∞ 20-30%

---

### 20. –ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

**–†–µ—à–µ–Ω–∏—è**:

- ‚úÖ –í—Å—Ç—Ä–æ–∏—Ç—å `py-spy` –¥–ª—è –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ –ª–µ—Ç—É
- ‚úÖ –î–æ–±–∞–≤–∏—Ç—å —ç–Ω–¥–ø–æ–∏–Ω—Ç `/metrics` —Å CPU –ø–æ –ø–æ—Ç–æ–∫–∞–º
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `cProfile` —Å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–µ–π —á–µ—Ä–µ–∑ `snakeviz`
- ‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å —á–µ—Ä–µ–∑ `htop` —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –ø–æ –ø–æ—Ç–æ–∫–∞–º
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `perf` –¥–ª—è –≥–ª—É–±–æ–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞

**–≠—Ñ—Ñ–µ–∫—Ç**: –¢–æ—á–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ bottleneck

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

### 21. –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã

**–¢–µ–∫—É—â–∞—è –ø—Ä–æ–±–ª–µ–º–∞**: –í—Å–µ –≤ –æ–¥–Ω–æ–º –ø—Ä–æ—Ü–µ—Å—Å–µ

**–†–µ—à–µ–Ω–∏–µ**:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Chrome Bot  ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ Audio Queue  ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ VAD Service ‚îÇ
‚îÇ   (N —à—Ç)    ‚îÇ     ‚îÇ   (Redis)    ‚îÇ     ‚îÇ (–æ—Ç–¥–µ–ª—å–Ω—ã–π) ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                                  ‚îÇ
                                                  ‚ñº
                                          ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                                          ‚îÇ   Whisper    ‚îÇ
                                          ‚îÇ   Service    ‚îÇ
                                          ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**:

- –ò–∑–æ–ª—è—Ü–∏—è –Ω–∞–≥—Ä—É–∑–∫–∏
- –ù–µ–∑–∞–≤–∏—Å–∏–º–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–æ–≤

---

### 22. –ü—É–ª –≤–æ—Ä–∫–µ—Ä–æ–≤ –≤–º–µ—Å—Ç–æ –ø–æ—Ç–æ–∫–æ–≤

**–†–µ—à–µ–Ω–∏–µ**:

- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `multiprocessing` –¥–ª—è VAD –æ–±—Ä–∞–±–æ—Ç–∫–∏
- –û–±—Ö–æ–¥ GIL –¥–ª—è CPU-bound –∑–∞–¥–∞—á
- –ö–∞–∂–¥—ã–π –±–æ—Ç = –æ—Ç–¥–µ–ª—å–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å

**–≠—Ñ—Ñ–µ–∫—Ç**: +50-100% –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –Ω–∞ –º–Ω–æ–≥–æ—è–¥–µ—Ä–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö

---

### 23. GPU —É—Å–∫–æ—Ä–µ–Ω–∏–µ –≤—Å–µ–≥–æ –ø–∞–π–ø–ª–∞–π–Ω–∞

**–†–µ—à–µ–Ω–∏–µ**:

- VAD –Ω–∞ GPU (Silero –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç)
- Whisper –Ω–∞ GPU (—É–∂–µ –µ—Å—Ç—å)
- –ü—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∞ –∞—É–¥–∏–æ –Ω–∞ GPU —á–µ—Ä–µ–∑ `torchaudio`
- –ú–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å CPU‚ÜîGPU –ø–µ—Ä–µ–¥–∞—á–∏

**–≠—Ñ—Ñ–µ–∫—Ç**: –°–Ω–∏–∂–µ–Ω–∏–µ CPU –Ω–∞ 40-60%, —É–≤–µ–ª–∏—á–µ–Ω–∏–µ GPU

---

### 24. –ê–¥–∞–ø—Ç–∏–≤–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –æ–±—Ä–∞–±–æ—Ç–∫–∏

**–†–µ—à–µ–Ω–∏–µ**:

- –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –∑–∞–≥—Ä—É–∑–∫—É CPU
- –ü—Ä–∏ >80% –Ω–∞–≥—Ä—É–∑–∫–∏:
  - –£–≤–µ–ª–∏—á–∏–≤–∞—Ç—å VAD chunk size
  - –£–º–µ–Ω—å—à–∞—Ç—å —á–∞—Å—Ç–æ—Ç—É –ø—Ä–æ–≤–µ—Ä–æ–∫
  - –ü—Ä–æ–ø—É—Å–∫–∞—Ç—å –Ω–µ–∫—Ä–∏—Ç–∏—á–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
- –ü—Ä–∏ <30% –Ω–∞–≥—Ä—É–∑–∫–∏:
  - –ü–æ–≤—ã—à–∞—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ –æ–±—Ä–∞–±–æ—Ç–∫–∏
  - –í–∫–ª—é—á–∞—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∏—á–∏

**–≠—Ñ—Ñ–µ–∫—Ç**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞ –∫–∞—á–µ—Å—Ç–≤–æ/–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

---

### 25. –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–µ–π –≤ shared memory

**–†–µ—à–µ–Ω–∏–µ**:

- –ó–∞–≥—Ä—É–∂–∞—Ç—å VAD/Whisper –æ–¥–∏–Ω —Ä–∞–∑ –≤ shared memory
- –í—Å–µ –±–æ—Ç—ã —á–∏—Ç–∞—é—Ç –∏–∑ –æ–¥–Ω–æ–π –∫–æ–ø–∏–∏
- –≠–∫–æ–Ω–æ–º–∏—è RAM –∏ CPU –Ω–∞ –∑–∞–≥—Ä—É–∑–∫—É

**–≠—Ñ—Ñ–µ–∫—Ç**: –°–Ω–∏–∂–µ–Ω–∏–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è RAM –Ω–∞ 70%, —É—Å–∫–æ—Ä–µ–Ω–∏–µ —Å—Ç–∞—Ä—Ç–∞ –±–æ—Ç–æ–≤

---

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –∏–∑–º–µ—Ä–µ–Ω–∏—è:

#### 1. py-spy (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
py-spy top --pid <PID>
py-spy record -o profile.svg --pid <PID>
```

#### 2. cProfile

```python
import cProfile
import pstats

profiler = cProfile.Profile()
profiler.enable()
# ... –∫–æ–¥ ...
profiler.disable()
stats = pstats.Stats(profiler)
stats.sort_stats('cumulative')
stats.print_stats(20)
```

#### 3. line_profiler

```python
from line_profiler import LineProfiler

lp = LineProfiler()
lp.add_function(AudioHandler._process_audio_stream)
lp.enable()
# ... –∫–æ–¥ ...
lp.disable()
lp.print_stats()
```

#### 4. perf (Linux)

```bash
perf record -g -p <PID>
perf report
```

#### 5. htop —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π

```bash
htop -p $(pgrep -d',' -f 'python.*bot_runner')
```

---

## üéØ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### Tier 1 (–ë—ã—Å—Ç—Ä—ã–µ –ø–æ–±–µ–¥—ã, 1-2 —á–∞—Å–∞):

1. ‚úÖ –£–≤–µ–ª–∏—á–∏—Ç—å `VAD_CHUNK_SIZE` –¥–æ 2048
2. ‚úÖ –ó–∞–º–µ–Ω–∏—Ç—å —Ü–∏–∫–ª –≤ `_monitor_participants` –Ω–∞ `Event.wait()`
3. ‚úÖ –£–≤–µ–ª–∏—á–∏—Ç—å `MEET_FRAME_DURATION_MS` –¥–æ 60
4. ‚úÖ –û—Ç–∫–ª—é—á–∏—Ç—å –∏–∑–±—ã—Ç–æ—á–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
5. ‚úÖ –£–±—Ä–∞—Ç—å –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ chromedriver

**–û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç**: -30-40% CPU

---

### Tier 2 (–°—Ä–µ–¥–Ω—è—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å, 4-8 —á–∞—Å–æ–≤):

6. ‚úÖ –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ VAD –Ω–∞ GPU
7. ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å numpy/torch –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏
8. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –∑–∞–¥–µ—Ä–∂–∫–∏ –≤ Selenium polling
9. ‚úÖ –£–º–µ–Ω—å—à–∏—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ Chrome
10. ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å PulseAudio –±—É—Ñ–µ—Ä—ã

**–û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç**: -20-30% CPU

---

### Tier 3 (–°–ª–æ–∂–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è, 1-3 –¥–Ω—è):

11. ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –±–∞—Ç—á–∏–Ω–≥ –¥–ª—è Whisper
12. ‚úÖ –ó–∞–º–µ–Ω–∏—Ç—å Silero VAD –Ω–∞ WebRTC VAD
13. ‚úÖ –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π WebSocket –∫–ª–∏–µ–Ω—Ç
14. ‚úÖ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è –ø–æ –Ω–∞–≥—Ä—É–∑–∫–µ
15. ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `distil-whisper`

**–û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç**: -30-50% CPU

---

### Tier 4 (–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è, 1-2 –Ω–µ–¥–µ–ª–∏):

16. ‚úÖ –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã
17. ‚úÖ Multiprocessing –≤–º–µ—Å—Ç–æ threading
18. ‚úÖ Shared memory –¥–ª—è –º–æ–¥–µ–ª–µ–π
19. ‚úÖ –ü—É–ª –≤–æ—Ä–∫–µ—Ä–æ–≤ –¥–ª—è Chrome
20. ‚úÖ Playwright –≤–º–µ—Å—Ç–æ Selenium

**–û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç**: -40-60% CPU + –ª—É—á—à–∞—è –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å

---

## üìà –ú–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è

### –î–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:

- [ ] –ë–∞–∑–æ–≤–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ CPU (–±–µ–∑ –±–æ—Ç–æ–≤)
- [ ] CPU –Ω–∞ 1 –±–æ—Ç–∞ (idle –≤ –≤—Å—Ç—Ä–µ—á–µ)
- [ ] CPU –Ω–∞ 1 –±–æ—Ç–∞ (–∞–∫—Ç–∏–≤–Ω–∞—è —Ä–µ—á—å)
- [ ] CPU –Ω–∞ N –±–æ—Ç–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- [ ] –í—Ä–µ–º—è –∏–Ω—Ñ–µ—Ä–µ–Ω—Å–∞ Whisper
- [ ] –ß–∞—Å—Ç–æ—Ç–∞ –≤—ã–∑–æ–≤–æ–≤ VAD
- [ ] Latency –æ—Ç —Ä–µ—á–∏ –¥–æ –æ—Ç–≤–µ—Ç–∞

### –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:

- [ ] –ò–∑–º–µ–Ω–µ–Ω–∏–µ CPU (%)
- [ ] –ò–∑–º–µ–Ω–µ–Ω–∏–µ latency
- [ ] –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è
- [ ] –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û**: –ù–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–π—Ç–µ –≤—Å–ª–µ–ø—É—é, –∏–∑–º–µ—Ä—è–π—Ç–µ —Ä–µ–∞–ª—å–Ω—ã–µ bottleneck
2. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å
3. **–ë–∞–ª–∞–Ω—Å**: –ù–µ –∂–µ—Ä—Ç–≤—É–π—Ç–µ –∫–∞—á–µ—Å—Ç–≤–æ–º —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è —Ä–∞–¥–∏ —Å–∫–æ—Ä–æ—Å—Ç–∏ –±–µ–∑ –ø—Ä–∏—á–∏–Ω—ã
4. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: –î–æ–±–∞–≤—å—Ç–µ –º–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
5. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: –ó–∞–ø–∏—Å—ã–≤–∞–π—Ç–µ –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏ –∏—Ö —ç—Ñ—Ñ–µ–∫—Ç

---

## üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [Faster Whisper –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è](https://github.com/guillaumekln/faster-whisper)
- [Silero VAD](https://github.com/snakers4/silero-vad)
- [WebRTC VAD](https://github.com/wiseman/py-webrtcvad)
- [PyTorch Performance Tuning](https://pytorch.org/tutorials/recipes/recipes/tuning_guide.html)
- [PulseAudio –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è](https://wiki.archlinux.org/title/PulseAudio/Troubleshooting)

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è**: 2025-12-03  
**–í–µ—Ä—Å–∏—è**: 1.0  
**–ê–≤—Ç–æ—Ä**: AI Assistant (Claude)
